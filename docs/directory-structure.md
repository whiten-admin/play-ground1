# プロジェクトディレクトリ構造

このドキュメントでは、プロジェクトのディレクトリ構造について説明します。

## ディレクトリ構造の概要

```
src/
├── app/                  # Next.jsのApp Routerの構造
├── components/           # 再利用可能な共通コンポーネント
│   ├── ui/               # 基本的なUI要素（ボタン、入力フィールドなど）
│   ├── layout/           # レイアウト関連コンポーネント
│   └── shared/           # アプリケーション全体で共有されるコンポーネント
├── features/             # 機能ごとのモジュール
│   ├── tasks/            # タスク関連の機能
│   │   ├── components/   # タスク専用コンポーネント
│   │   ├── contexts/     # タスク関連のコンテキスト
│   │   ├── data/         # タスクのデータ
│   │   ├── filters/      # タスクのフィルター
│   │   ├── hooks/        # タスク関連のカスタムフック
│   │   ├── types/        # タスク関連の型定義
│   │   ├── users/        # ユーザーデータ
│   │   └── utils/        # タスク関連のユーティリティ関数
│   ├── projects/         # プロジェクト関連の機能
│   │   ├── components/   # プロジェクト専用コンポーネント
│   │   ├── contexts/     # プロジェクト関連のコンテキスト
│   │   ├── data/         # プロジェクトのデータ
│   │   └── types/        # プロジェクト関連の型定義
│   ├── schedule/         # スケジュール関連の機能
│   │   ├── components/   # スケジュール専用コンポーネント
│   │   └── utils/        # スケジュール関連のユーティリティ関数
│   ├── gantt/            # ガントチャート関連の機能
│   │   └── components/   # ガントチャート専用コンポーネント
│   ├── kanban/           # カンバン関連の機能
│   │   └── components/   # カンバン専用コンポーネント
│   ├── wbs/              # WBS関連の機能
│   │   └── components/   # WBS専用コンポーネント
│   ├── analysis/         # 分析関連の機能
│   │   └── components/   # 分析専用コンポーネント
│   ├── settings/         # 設定関連の機能
│   │   └── components/   # 設定専用コンポーネント
│   └── guide/            # ガイド関連の機能
│       └── components/   # ガイド専用コンポーネント
├── utils/                # 共通のユーティリティ関数
│   ├── constants/        # 定数
│   └── dateUtils.ts      # 日付関連のユーティリティ
├── services/             # API通信やサービス層
│   ├── api/              # APIクライアント
│   │   └── utils/        # API関連のユーティリティ（OpenAI、ファイル処理など）
│   ├── auth/             # 認証関連
│   │   ├── components/   # 認証関連のコンポーネント
│   │   └── hooks/        # 認証関連のフック
│   └── storage/          # ストレージ関連（LocalStorageなど）
│       └── utils/        # ストレージ関連のユーティリティ
└── styles/               # グローバルスタイル
```

## 各ディレクトリの説明

### `app/`
Next.jsのApp Routerに基づいたルート構造を含みます。ページレイアウトやルーティングを定義します。

### `components/`
アプリケーション全体で再利用可能な共通コンポーネントを含みます。

- `ui/`: ボタン、入力フィールド、カードなどの基本的なUI要素
- `layout/`: ヘッダー、サイドバー、レイアウトコンポーネントなど
- `shared/`: アプリケーション全体で共有される複合コンポーネント

### `features/`
機能ごとに分割されたモジュールを含みます。各機能は独自のコンポーネント、ユーティリティ、型などを持ちます。

- `tasks/`: タスク管理機能
- `projects/`: プロジェクト管理機能
- `schedule/`: スケジュール関連機能
- `gantt/`: ガントチャート表示機能
- `kanban/`: カンバンボード機能
- `wbs/`: WBS(Work Breakdown Structure)機能
- `analysis/`: データ分析および可視化機能
- `settings/`: アプリケーション設定機能
- `guide/`: ユーザーガイド機能

### `utils/`
アプリケーション全体で使用される共通ユーティリティ関数を含みます。

- `constants/`: アプリケーション全体で使用される定数
- `dateUtils.ts`: 日付操作のためのユーティリティ関数

### `services/`
外部サービスとの連携やデータアクセスレイヤーを含みます。

- `api/`: 外部APIとの通信
  - `utils/`: OpenAI連携、ファイル解析、PDF処理など
- `auth/`: 認証関連の処理
  - `components/`: 認証UIコンポーネント
  - `hooks/`: 認証状態管理フック
- `storage/`: ローカルストレージなどのデータ永続化
  - `utils/`: シードデータの管理など

### `styles/`
グローバルなスタイル定義を含みます。

## ディレクトリ構造の利点

1. **関心の分離**: 各機能は独自のディレクトリに分割され、関連するコードが一緒に配置されています
2. **可読性**: ファイルの場所がより直感的になり、特定の機能に関連するコードを見つけやすくなります
3. **スケーラビリティ**: 新しい機能を追加する際に既存のコードに影響を与えずに拡張できます
4. **再利用性**: 共通コンポーネントとユーティリティが明確に分離され、再利用が容易になります
5. **メンテナンス性**: 各機能を独立して開発・テスト・デプロイすることが可能になります

## 開発ガイドライン

新しいコードを追加する際は、以下のガイドラインに従ってください：

1. 特定の機能に関連するコンポーネントは、対応する `features/[機能名]/components/` ディレクトリに配置します
2. 複数の機能で再利用されるコンポーネントは `components/shared/` または `components/ui/` に配置します
3. 特定の機能に関連するユーティリティ関数は、対応する `features/[機能名]/utils/` ディレクトリに配置します
4. アプリケーション全体で使用される共通ユーティリティは `utils/` ディレクトリに配置します
5. 外部サービスとの連携は `services/` ディレクトリ内の適切なサブディレクトリに配置します 